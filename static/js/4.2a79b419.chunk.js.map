{"version":3,"sources":["component/Common/FormsControls/FormsControls.tsx","component/Common/FormsControls/FormsControls.module.css","utils/validators/validators.ts","hoc/withRouter.tsx","hoc/withAuthRedirect.tsx","component/Profile/ProfileInfo/ProfileInfo.module.scss","component/Common/SuperInputText/SuperInputText.module.scss","component/Profile/ProfileInfo/ProfileData/ProfileDataForm.module.scss","component/Profile/ProfileInfo/ProfileData/ProfileData.module.scss","component/Profile/MyPosts/MyPosts.module.scss","component/Profile/MyPosts/Post/Post.module.scss","component/Common/SuperInputText/SuperInputText.tsx","component/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.tsx","component/Profile/ProfileInfo/ProfileData/ProfileDataForm.tsx","component/Profile/ProfileInfo/ProfileData/ProfileData.tsx","component/Profile/ProfileInfo/ProfileInfo.tsx","component/Profile/MyPosts/Post/Post.tsx","component/Profile/MyPosts/MyPosts.tsx","component/Profile/MyPosts/MyPostsContainer.tsx","component/Profile/Profile.tsx","component/Profile/ProfileContainer.tsx"],"names":["FormControl","meta","children","hasError","touched","error","className","s","formControl","Textarea","props","input","restProps","Input","module","exports","required","value","maxLengthCreator","maxLength","length","withRouter","WrapperComponent","location","useLocation","navigate","useNavigate","params","useParams","router","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","connect","to","SuperInputText","type","onChange","onChangeText","onKeyPress","onEnter","spanClassName","finalSpanClassName","finalInputClassName","errorInput","superInput","e","currentTarget","key","ProfileStatusWithHooks","statusText","updateStatusTC","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","ProfileDataFormReduxForm","reduxForm","form","handleSubmit","profile","onSubmit","editFormContainer","SuperButton","Field","formInput","name","component","placeholder","formTextarea","Object","keys","contacts","map","index","contactValue","formSummaryError","ProfileData","isOwner","goToEditMode","Preloader","keysContacts","valuesContacts","values","profileDataContainer","fullName","onClick","contact","contactTitle","lookingForAJob","lookingForAJobDescription","aboutMe","Contact","ProfileInfo","savePhotoTC","saveProfileTC","profileBlock","avatarBlock","userAvatar","style","backgroundImage","photos","large","userPhoto","buttonFileContainer","id","inputFile","target","files","htmlFor","editModeContainer","initialValues","then","Post","photo","message","likesCount","item","textBlock","likeWrapper","postLikesCount","MyPosts","React","memo","profilePage","AddPost","postElements","postsData","m","potsBlock","myPostTitle","AddMyPostFormRedux","newPostBody","addMyPostForm","validate","button","MyPostsContainer","dispatch","actions","addPost","Profile","ProfileContainer","userId","this","authorizedUserId","getUserProfileTC","getStatusTC","refreshProfile","prevProps","prevState","compose"],"mappings":"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","file":"static/js/4.2a79b419.chunk.js","sourcesContent":["import React from 'react';\r\nimport s from './FormsControls.module.css'\r\nimport {WrappedFieldMetaProps, WrappedFieldProps} from 'redux-form';\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\nconst FormControl:React.FC<FormControlPropsType> = ({meta, children}) => {\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={`${s.formControl} ${hasError ? s.error : ''}`}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea:React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props} ><textarea {...props.input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input:React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props} ><input {...props.input} {...restProps} /></FormControl>\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3RLDu\",\"error\":\"FormsControls_error__2bFT9\",\"formSummaryError\":\"FormsControls_formSummaryError__3yqtq\"};","\r\nexport const required = (value: string) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => {\r\n    return (value: string) => {\r\n        if (value && value.length > maxLength) return `Max length is ${maxLength} symbol`\r\n        return undefined\r\n    }\r\n}\r\n\r\n","import {useLocation, useNavigate, useParams} from 'react-router-dom';\r\nimport React from 'react';\r\n\r\ntype ComponentWithRouterPropsType = {\r\n    location: any\r\n    navigate: any\r\n    params: { userId: string }\r\n}\r\nexport type WithRouterType = {\r\n    router: ComponentWithRouterPropsType\r\n}\r\n\r\nexport const withRouter = (WrapperComponent: typeof React.Component) => (props: object) => {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const params = useParams();\r\n\r\n    return (\r\n        <WrapperComponent\r\n            {...props} router={{location, navigate, params}}\r\n        />\r\n    )\r\n}\r\n\r\n","import React, {ComponentType} from 'react';\r\nimport {Navigate} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from 'store/types';\r\n\r\n\r\ntype MapStateToProps = {\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToProps => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    const RedirectComponent = (props: MapStateToProps) => {\r\n        let {isAuth, ...restProps} = props\r\n        if (!isAuth) return <Navigate to=\"/login\"/>\r\n\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    return connect<MapStateToProps, unknown, unknown, AppStateType>(mapStateToProps)(RedirectComponent)\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileBlock\":\"ProfileInfo_profileBlock__1PQ7x\",\"avatarBlock\":\"ProfileInfo_avatarBlock__Fh7nk\",\"userAvatar\":\"ProfileInfo_userAvatar__2BpTD\",\"buttonFileContainer\":\"ProfileInfo_buttonFileContainer__6GHOh\",\"inputFile\":\"ProfileInfo_inputFile__wWsCy\",\"editModeContainer\":\"ProfileInfo_editModeContainer__tA0ME\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"superInput\":\"SuperInputText_superInput__2-fSQ\",\"errorInput\":\"SuperInputText_errorInput__2Q_Kj\",\"error\":\"SuperInputText_error__1bqML\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editFormContainer\":\"ProfileDataForm_editFormContainer__3iWzT\",\"formInput\":\"ProfileDataForm_formInput__Cftli\",\"formTextarea\":\"ProfileDataForm_formTextarea__2zdJw\",\"contactValue\":\"ProfileDataForm_contactValue__3Acrx\",\"formSummaryError\":\"ProfileDataForm_formSummaryError__2Q506\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileDataContainer\":\"ProfileData_profileDataContainer__uYUqR\",\"contact\":\"ProfileData_contact__1fYCI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"potsBlock\":\"MyPosts_potsBlock__1_gEb\",\"myPostTitle\":\"MyPosts_myPostTitle__4t9io\",\"addMyPostForm\":\"MyPosts_addMyPostForm__3OOVj\",\"formTextarea\":\"MyPosts_formTextarea__rOPxr\",\"button\":\"MyPosts_button__3Oxb1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__16LHN\",\"userAvatar\":\"Post_userAvatar__1jloA\",\"textBlock\":\"Post_textBlock__3eGaw\",\"likeWrapper\":\"Post_likeWrapper__3CmmI\",\"postLikesCount\":\"Post_postLikesCount__1j5xR\"};","import React, {ChangeEvent, DetailedHTMLProps, InputHTMLAttributes, KeyboardEvent} from 'react'\nimport s from './SuperInputText.module.scss'\n\n// тип пропсов обычного инпута\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\n\n// здесь мы говорим что у нашего инпута будут такие же пропсы как у обычного инпута\n// (чтоб не писать value: string, onChange: ...; они уже все описаны в DefaultInputPropsType)\ntype SuperInputTextPropsType = DefaultInputPropsType & { // и + ещё пропсы которых нет в стандартном инпуте\n    onChangeText?: (value: string) => void\n    onEnter?: () => void\n    error?: string\n    spanClassName?: string\n}\n\nconst SuperInputText: React.FC<SuperInputTextPropsType> = (\n    {\n        type, // достаём и игнорируем чтоб нельзя было задать другой тип инпута\n        onChange, onChangeText,\n        onKeyPress, onEnter,\n        error,\n        className, spanClassName,\n\n        ...restProps// все остальные пропсы попадут в объект restProps\n    }\n) => {\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\n        onChange // если есть пропс onChange\n        && onChange(e) // то передать ему е (поскольку onChange не обязателен)\n\n        onChangeText && onChangeText(e.currentTarget.value)\n    }\n    const onKeyPressCallback = (e: KeyboardEvent<HTMLInputElement>) => {\n        onKeyPress && onKeyPress(e);\n\n        onEnter // если есть пропс onEnter\n        && e.key === 'Enter' // и если нажата кнопка Enter\n        && onEnter() // то вызвать его\n    }\n\n    const finalSpanClassName = `${s.error} ${spanClassName ? spanClassName : ''}`\n    const finalInputClassName = error ? s.errorInput : `${className} ${s.superInput}`\n   /* const finalInputClassName = `${s.errorInput} ${className}` // need to fix with (?:) and s.superInput*/\n\n    return (\n        <div>\n            <input\n                type={'text'}\n                onChange={onChangeCallback}\n                onKeyPress={onKeyPressCallback}\n                className={finalInputClassName}\n\n                {...restProps} // отдаём инпуту остальные пропсы если они есть (value например там внутри)\n            />\n            {error && <div className={finalSpanClassName}>{error}</div>}\n        </div>\n    )\n}\n\nexport default SuperInputText\n","import React, {ChangeEvent, useEffect, useState} from 'react';\r\nimport SuperInputText from '../../../Common/SuperInputText/SuperInputText';\r\n\r\nexport type ProfileStatusPropsType = {\r\n    statusText: string\r\n    updateStatusTC: (status: string) => void\r\n}\r\n\r\nexport const ProfileStatusWithHooks: React.FC<ProfileStatusPropsType> = (props) => {\r\n    const {statusText,updateStatusTC} = props\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [status, setStatus] = useState(statusText)\r\n\r\n    useEffect( ()=>{\r\n        setStatus(status)\r\n    }, [status, statusText])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        updateStatusTC(status)\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <b>Status: </b><span onDoubleClick={activateEditMode}>{statusText || 'Double click to enter'}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <SuperInputText\r\n                        autoFocus\r\n                        onChange={onStatusChange}\r\n                        onBlur={deactivateEditMode}\r\n                        value={status}/>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {Field, InjectedFormProps, reduxForm} from 'redux-form';\r\nimport {Input, Textarea} from '../../../Common/FormsControls/FormsControls';\r\nimport s from './ProfileDataForm.module.scss'\r\nimport SuperButton from '../../../Common/SuperButton/SuperButton';\r\nimport {ProfileType} from 'api/types';\r\n\r\n\r\ntype ProfileDataFormType = {\r\n    profile: ProfileType;\r\n}\r\n\r\nconst ProfileDataForm: React.FC<InjectedFormProps<ProfileType, ProfileDataFormType> & ProfileDataFormType> = (props) => {\r\n    const {error, handleSubmit, profile} = props\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className={s.editFormContainer}>\r\n            <div>\r\n                <div>\r\n                    <SuperButton>\r\n                        Save\r\n                    </SuperButton>\r\n                </div>\r\n                <div>\r\n                    <p>\r\n                        <b>Full name</b> :\r\n                        <Field className={s.formInput} name={'fullName'} component={Input}\r\n                               placeholder={'Full name'}/>\r\n                    </p>\r\n                </div>\r\n                <div>\r\n                    <p>\r\n                        <b>looking for a job</b> :\r\n                        <Field name={'lookingForAJob'} component={Input}\r\n                               type={'checkbox'}/>\r\n                    </p>\r\n                </div>\r\n\r\n                <div>\r\n                    <p>\r\n                        <b>My skills</b> :\r\n                        <Field className={s.formTextarea}\r\n                               name={'lookingForAJobDescription'} component={Textarea}\r\n                               placeholder={'My skills'}/>\r\n                    </p>\r\n                </div>\r\n\r\n                <div>\r\n                    <p>\r\n                        <b>About me</b> :\r\n                        <Field className={s.formTextarea} name={'aboutMe'}\r\n                               component={Textarea}\r\n                               placeholder={'About me'}/>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <b>Contacts</b>:\r\n                {Object.keys(profile.contacts).map((key, index) => {\r\n                    return (\r\n                        <div className={s.contactValue} key={index}>\r\n                            <b>{key}</b> : <Field className={s.formInput}\r\n                                                  name={'contacts.' + key}\r\n                                                  component={Input}\r\n                                                  placeholder={key}/>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n\r\n            {error && <div className={s.formSummaryError}>{error}</div>}\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nconst ProfileDataFormReduxForm = reduxForm<ProfileType, ProfileDataFormType>({form: 'edit-profile'})(ProfileDataForm)\r\nexport default ProfileDataFormReduxForm","import {Preloader} from '../../../Common/Preloader/Preloader';\r\nimport s from './ProfileData.module.scss';\r\nimport React from 'react';\r\nimport SuperButton from '../../../Common/SuperButton/SuperButton';\r\nimport {ProfileType} from 'api/types';\r\n\r\nexport type ProfileDataType = {\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n    goToEditMode: () => void\r\n}\r\nexport const ProfileData: React.FC<ProfileDataType> = ({profile, isOwner, goToEditMode}) => {\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n    const keysContacts = Object.keys(profile.contacts)\r\n    const valuesContacts = Object.values(profile.contacts)\r\n\r\n    return (\r\n        <div className={s.profileDataContainer}>\r\n            <h2>{profile.fullName}</h2>\r\n            <div>\r\n                {isOwner &&\r\n                    <SuperButton onClick={goToEditMode}>\r\n                        Edit profile\r\n                    </SuperButton>}\r\n            </div>\r\n            <div className={s.contact}>\r\n                <b>Contacts</b>:\r\n                {\r\n                    keysContacts.map((key, index) => {\r\n                        return <Contact key={index}\r\n                                        contactTitle={key}\r\n                                        contactValue={valuesContacts[index]}\r\n                        />\r\n                    })\r\n                }\r\n            </div>\r\n\r\n            <p><b>looking for a job</b>: {profile.lookingForAJob ? <span>YES</span> : <span>NO</span>}</p>\r\n            {profile.lookingForAJob &&\r\n                <div>\r\n                    <p><b>My skills</b>: {profile.lookingForAJobDescription}</p>\r\n                </div>}\r\n            <p><b>About me</b>: {profile.aboutMe}</p>\r\n        </div>\r\n    )\r\n}\r\nexport type ContactType = {\r\n    contactTitle: string\r\n    contactValue: string\r\n}\r\nexport const Contact = ({contactTitle, contactValue}: ContactType) => {\r\n    return (\r\n        <div>\r\n            {\r\n                contactValue &&\r\n                <div>\r\n                    <b>{contactTitle}</b>: {contactValue}\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, {ChangeEvent, useState} from 'react';\r\nimport s from './ProfileInfo.module.scss'\r\nimport {Preloader} from '../../Common/Preloader/Preloader';\r\nimport userPhoto from '../../../assets/images/userIcon.png';\r\nimport {ProfileStatusWithHooks} from './ProfileStatus/ProfileStatusWithHooks';\r\nimport ProfileDataForm from './ProfileData/ProfileDataForm';\r\nimport {ProfileData} from './ProfileData/ProfileData';\r\nimport {ProfileType} from 'api/types';\r\n\r\nexport type ProfileInfoPropsType = {\r\n    profile: ProfileType\r\n    status: string\r\n    updateStatusTC: (status: string) => void\r\n    savePhotoTC: (file: File) => void\r\n    saveProfileTC: (formData: ProfileType) => Promise<any>\r\n    isOwner: boolean\r\n}\r\n\r\nexport const ProfileInfo: React.FC<ProfileInfoPropsType> = ({\r\n                                                                profile,\r\n                                                                status,\r\n                                                                updateStatusTC,\r\n                                                                isOwner,\r\n                                                                savePhotoTC,\r\n                                                                saveProfileTC\r\n                                                            }) => {\r\n    const [editMode, setEditMode] = useState(false)\r\n\r\n    const onChangePhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files) {\r\n            savePhotoTC(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    const onSubmit = (profile: ProfileType) => {\r\n        saveProfileTC(profile)\r\n            .then(() => {\r\n                setEditMode(false)\r\n            })\r\n    }\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div className={s.profileBlock}>\r\n            <div className={s.avatarBlock}>\r\n                <div className={s.userAvatar} style={{backgroundImage: `url(${profile.photos.large || userPhoto})`}}/>\r\n                {\r\n                    isOwner && <div className={s.buttonFileContainer}>\r\n                        <input type=\"file\"\r\n                               name=\"file\"\r\n                               id=\"file\"\r\n                               className={s.inputFile}\r\n                               onChange={onChangePhotoSelected}\r\n                        />\r\n                        <label htmlFor=\"file\">Change avatar</label>\r\n                    </div>\r\n                }\r\n\r\n            </div>\r\n            <div className={s.editModeContainer}>\r\n                {\r\n                    isOwner\r\n                        ? <ProfileStatusWithHooks statusText={status} updateStatusTC={updateStatusTC}/>\r\n                        : <div><b>Status: </b><span>{status}</span></div>\r\n                }\r\n                {\r\n                    editMode\r\n                        ? <ProfileDataForm initialValues={profile}\r\n                                           onSubmit={onSubmit}\r\n                                           profile={profile}\r\n                        />\r\n                        : <ProfileData profile={profile}\r\n                                       isOwner={isOwner}\r\n                                       goToEditMode={() => setEditMode(true)}\r\n                        />\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport s from './Post.module.scss'\r\nimport userPhoto from '../../../../assets/images/userIcon.png';\r\n\r\ntype PostPropsType = {\r\n    id: number\r\n    message: string\r\n    likesCount: number\r\n    photo: string\r\n}\r\n\r\nexport const Post: React.FC<PostPropsType> = ({photo, message, likesCount}) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <div className={s.userAvatar} style={{backgroundImage: `url(${photo || userPhoto})`}}/>\r\n            <div className={s.textBlock}>\r\n                <p>\r\n                    {message}\r\n                </p>\r\n                <div className={s.likeWrapper}>\r\n                    <span>likes: <span className={s.postLikesCount}>{likesCount}</span></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport s from './MyPosts.module.scss'\r\nimport {Post} from './Post/Post';\r\nimport {MyPostsPropsType} from './MyPostsContainer';\r\nimport {Field, InjectedFormProps, reduxForm} from 'redux-form';\r\nimport {Textarea} from '../../Common/FormsControls/FormsControls';\r\nimport SuperButton from '../../Common/SuperButton/SuperButton';\r\nimport {maxLengthCreator, required} from 'utils/validators/validators';\r\n\r\nexport const MyPosts: React.FC<MyPostsPropsType> = React.memo(({profilePage, AddPost}) => {\r\n\r\n    if (!profilePage.profile) {\r\n        return <div/>\r\n    }\r\n\r\n    const postElements = profilePage.postsData.map(m => <Post key={m.id}\r\n                                                              id={m.id}\r\n                                                              photo={profilePage.profile.photos.large}\r\n                                                              message={m.message}\r\n                                                              likesCount={m.likesCount}\r\n    />)\r\n\r\n    const addNewMyPost = (value: FormDataType) => {\r\n        AddPost(value.newPostBody)\r\n    }\r\n\r\n    return (\r\n        <div className={s.potsBlock}>\r\n            <h3 className={s.myPostTitle}>\r\n                My posts\r\n            </h3>\r\n\r\n            <AddMyPostFormRedux onSubmit={addNewMyPost}/>\r\n\r\n            <div>\r\n                {postElements}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\ntype FormDataType = {\r\n    newPostBody: string\r\n}\r\n\r\nconst maxLength = maxLengthCreator(50)\r\n\r\nconst AddMyPostForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    const {handleSubmit} = props\r\n    return (\r\n        <form onSubmit={handleSubmit} className={s.addMyPostForm}>\r\n            <div>\r\n                <Field className={s.formTextarea}\r\n                       component={Textarea}\r\n                       validate={[required, maxLength]}\r\n                       placeholder={'Enter your post'}\r\n                       name={'newPostBody'}\r\n                />\r\n            </div>\r\n            <div className={s.button}>\r\n                <SuperButton type={'submit'}>Add post</SuperButton>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMyPostFormRedux = reduxForm<FormDataType>({form: 'MyPostsAndPostForm'})(AddMyPostForm)","import {connect} from 'react-redux';\r\nimport {Dispatch} from 'redux';\r\nimport {actions, InitialStateProfileType} from 'store/redusers/profileReducer';\r\nimport {MyPosts} from 'component/Profile/MyPosts/MyPosts';\r\nimport {AppStateType} from 'store/types';\r\n\r\ntype MapStateToPropsType = {\r\n    profilePage: InitialStateProfileType\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    AddPost: (newPostBody: string) => void\r\n}\r\n\r\nexport type MyPostsPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        profilePage: state.profilePage\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\r\n    return {\r\n        AddPost: (newPostBody: string) => {\r\n            dispatch(actions.addPost(newPostBody))\r\n        }\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect<MapStateToPropsType, MapDispatchToPropsType, unknown, AppStateType>(mapStateToProps, mapDispatchToProps)(MyPosts)","import React from 'react';\r\nimport {ProfileInfo} from './ProfileInfo/ProfileInfo';\r\nimport {MyPostsContainer} from './MyPosts/MyPostsContainer';\r\nimport {ProfileType} from 'api/types';\r\n\r\n\r\nexport type ProfilePropsType = {\r\n    profile: ProfileType\r\n    status: string\r\n    isOwner: boolean\r\n    updateStatusTC: (status: string) => void\r\n    savePhotoTC: (file: File) => void\r\n    saveProfileTC: (formData: ProfileType) => Promise<any>\r\n}\r\n\r\nexport const Profile: React.FC<ProfilePropsType> = ({\r\n                                                        profile,\r\n                                                        status,\r\n                                                        updateStatusTC,\r\n                                                        isOwner,\r\n                                                        savePhotoTC,\r\n                                                        saveProfileTC\r\n                                                    }) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={profile}\r\n                         status={status}\r\n                         updateStatusTC={updateStatusTC}\r\n                         isOwner={isOwner}\r\n                         savePhotoTC={savePhotoTC}\r\n                         saveProfileTC={saveProfileTC}\r\n            />\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport {Profile} from './Profile';\r\nimport {connect} from 'react-redux';\r\nimport {ProfileType} from 'api/types';\r\nimport {withRouter, WithRouterType} from 'hoc/withRouter';\r\nimport {\r\n    getStatusTC,\r\n    getUserProfileTC,\r\n    savePhotoTC, saveProfileTC,\r\n    updateStatusTC\r\n} from 'store/redusers/profileReducer';\r\nimport {compose} from 'redux';\r\nimport {withAuthRedirect} from 'hoc/withAuthRedirect';\r\nimport {AppStateType} from 'store/types';\r\n\r\ntype MapStateToPropsType = {\r\n    status: string\r\n    profile: ProfileType\r\n    authorizedUserId: number | null\r\n    isAuth: boolean\r\n}\r\n\r\ntype MapDispatchToProps = {\r\n    getUserProfileTC: (userId: number | null) => void\r\n    getStatusTC: (userId: number | null) => void\r\n    updateStatusTC: (status: string) => void\r\n    savePhotoTC: (file: File) => void\r\n    saveProfileTC: (formData: ProfileType) => Promise<any>\r\n}\r\n\r\ntype ProfileContainerType = MapStateToPropsType & MapDispatchToProps & WithRouterType\r\n\r\nclass ProfileContainer extends React.Component<ProfileContainerType> {\r\n\r\n    refreshProfile() {\r\n        let userId: number |null  = +this.props.router.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId\r\n        }\r\n        this.props.getUserProfileTC(userId)\r\n        this.props.getStatusTC(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<ProfileContainerType>, prevState: Readonly<ProfileContainerType>) {\r\n        if (this.props.router.params.userId !== prevProps.router.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile profile={this.props.profile}\r\n                         status={this.props.status}\r\n                         updateStatusTC={this.props.updateStatusTC}\r\n                         isOwner={!this.props.router.params.userId}\r\n                         savePhotoTC={this.props.savePhotoTC}\r\n                         saveProfileTC={this.props.saveProfileTC}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.id,\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfileTC, getStatusTC, updateStatusTC, savePhotoTC, saveProfileTC}),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)(ProfileContainer)\r\n"],"sourceRoot":""}