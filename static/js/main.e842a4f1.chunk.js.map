{"version":3,"sources":["Component/Navbar/Navbar.module.css","Component/Navbar/Navbar.tsx","Component/Music/Music.tsx","Component/News/News.tsx","Component/Setting/Setting.tsx","Redux/appReducer.ts","Component/Header/Header.tsx","Component/Header/HeaderContainer.tsx","App.tsx","Redux/reduxStore.ts","index.tsx","Redux/authReducer.ts","Component/Header/Header.module.css","assets/images/userIcon.png","Redux/profileReducer.ts","assets/images/Spinner.svg","Component/common/Preloader/Preloader.tsx","Redux/dialogsReducer.ts","utils/objectHelpers.ts","Redux/usersReducer.ts","API/api.ts"],"names":["module","exports","Navbar","setActive","isActive","s","activeLink","item","className","nav","to","Music","props","name","News","Setting","initialState","initialized","Header","login","isAuth","logoutTC","header","src","alt","loginBlock","onClick","userPhoto","HeaderContainer","this","React","Component","connect","state","auth","Login","lazy","UsersContainer","DialogsContainer","ProfileContainer","App","initializeAppTC","Suspense","fallback","path","element","Preloader","compose","app","dispatch","a","getAuthMeTC","type","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","usersReducer","authReducer","form","formReducer","action","store","createStore","composeWithDevTools","applyMiddleware","thunk","window","ReactDOM","render","StrictMode","document","getElementById","id","email","payload","setAuthUserDataAC","authAPI","authMe","res","resultCode","data","loginTC","message","messages","length","stopSubmit","_error","logout","postsData","likesCount","profile","status","body","newPostBody","filter","post","addPostAC","setStatusAC","getUserProfileTC","userId","profileAPI","getProfile","getStatusTC","getStatus","updateStatusTC","updateStatus","preload","dialogsData","massagesData","newMessageBody","AddMessageAC","updateObjectInArray","items","itemId","obgPropName","newObjProps","map","m","users","pageSize","totalUsersCount","currentPages","isFetching","followingInProgress","followed","totalCount","followSuccessAC","userID","unfollowSuccessAC","toggleIsFetchingAC","toggleIsFollowingProgressAC","requestUsersTC","page","usersAPI","getUsers","followUnfollowFlow","apiMethod","actionCreator","followTC","followUser","bind","unfollowTC","unfollowUser","instance","axios","create","baseURL","withCredentials","headers","currentNumberPages","get","then","response","delete","put"],"mappings":"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","file":"static/js/main.e842a4f1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__cUqkZ\",\"activeLink\":\"Navbar_activeLink__3dZSJ\",\"item\":\"Navbar_item__3QqFY\"};","import React from 'react';\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nexport const Navbar = () => {\r\n    const setActive = ({isActive}: { isActive: boolean }) => isActive ? s.activeLink : s.item\r\n\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink className={setActive} to={'/profile'}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink className={setActive} to={'/dialogs'}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink className={setActive} to={'/users'}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink className={setActive} to={'/news'}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink className={setActive} to={'/music'}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink className={setActive} to={'/setting'}>Setting</NavLink>\r\n            </div>\r\n        </nav>\r\n\r\n    )\r\n}","import React from 'react';\r\n\r\ntype MusicPropsType = {\r\n    name: string\r\n}\r\n\r\nexport const Music = (props: MusicPropsType) => {\r\n    return (\r\n        <div>{props.name}</div>\r\n    )\r\n}","import React from 'react';\r\n\r\ntype NewsPropsType = {\r\n    name: string\r\n}\r\n\r\nexport const News = (props: NewsPropsType) => {\r\n    return (\r\n        <div>{props.name}</div>\r\n    )\r\n}","import React from 'react';\r\n\r\ntype SettingPropsType = {\r\n    name: string\r\n}\r\n\r\nexport const Setting = (props: SettingPropsType) => {\r\n    return (\r\n        <div>{props.name}</div>\r\n    )\r\n}","import {AppThunk} from './reduxStore';\r\nimport {getAuthMeTC} from './authReducer';\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\n\r\nexport type initialStateProfileType = {\r\n    initialized: boolean\r\n}\r\n\r\nexport const appReducer = (state: initialStateProfileType = initialState, action: AppReducerType): initialStateProfileType => {\r\n    switch (action.type) {\r\n        case 'app/INITIALIZED-SUCCESS': {\r\n            return {...state, initialized: true}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport type AppReducerType = InitializedSuccessACType\r\n\r\ntype InitializedSuccessACType = ReturnType<typeof initializedSuccessAC>\r\nexport const initializedSuccessAC = () => {\r\n    return {type: 'app/INITIALIZED-SUCCESS'} as const\r\n}\r\n\r\nexport const initializeAppTC = (): AppThunk => async (dispatch) => {\r\n    await dispatch(getAuthMeTC())\r\n    dispatch(initializedSuccessAC())\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport s from './Header.module.css'\r\nimport {NavLink} from 'react-router-dom';\r\nimport userPhoto from '../../assets/images/userIcon.png';\r\n\r\ntype HeaderPropsType = {\r\n    login: null | string\r\n    isAuth: boolean\r\n    logoutTC: Function\r\n}\r\n\r\nexport const Header = ({login, isAuth, logoutTC,}: HeaderPropsType) => {\r\n\r\n    const onClickHandler = () => {\r\n        logoutTC()\r\n    }\r\n\r\n    return (\r\n        <header className={s.header}>\r\n            <img src=\"https://www.logodesign.net/logo/abstract-cuboid-building-4519ld.png\" alt=\"logo\"/>\r\n            <div className={s.loginBlock}>\r\n                {isAuth\r\n                    ? <div>{login} - <button onClick={onClickHandler}>Log out</button></div>\r\n                    : <NavLink to={'/login'}><img src={userPhoto} alt=\"123\"/>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}","import React from 'react'\r\nimport {connect} from 'react-redux';\r\nimport {Header} from './Header';\r\nimport {logoutTC} from '../../Redux/authReducer';\r\nimport {AppStateType} from '../../Redux/reduxStore';\r\n\r\ntype HeaderContainerType = MapStateToPropsType & MapDispatchToProps\r\n\r\ntype MapStateToPropsType = {\r\n    login: null | string\r\n    isAuth: boolean\r\n}\r\ntype MapDispatchToProps = {\r\n    logoutTC: Function\r\n}\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerType, AppStateType> {\r\n\r\n    render() {\r\n        return (\r\n            <Header  {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {logoutTC})\r\n(HeaderContainer)","import React from 'react';\nimport './App.css';\nimport {Navbar} from './Component/Navbar/Navbar';\nimport {Route, Routes,} from 'react-router';\nimport {Music} from './Component/Music/Music';\nimport {News} from './Component/News/News';\nimport {Setting} from './Component/Setting/Setting';\nimport {AppStateType} from './Redux/reduxStore';\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\nimport {initializeAppTC} from './Redux/appReducer';\nimport {Preloader} from './Component/common/Preloader/Preloader';\nimport HeaderContainer from './Component/Header/HeaderContainer';\n\nconst Login = React.lazy(() => import('./Component/Login/Login'));\nconst UsersContainer = React.lazy(() => import('./Component/Users/UsersContainer'));\nconst DialogsContainer = React.lazy(() => import('./Component/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./Component/Profile/ProfileInfo/ProfileContainer'));\n\n\ntype AppConnectType = MapDispatchToProps & MapStateToProps\ntype MapStateToProps = {\n    initialized: boolean\n}\ntype MapDispatchToProps = {\n    initializeAppTC: Function\n}\n\nclass App extends React.Component <AppConnectType, AppStateType> {\n\n    componentDidMount() {\n        this.props.initializeAppTC()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className={'app-wrapper'}>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className={'app-wrapper-content'}>\n                    <React.Suspense fallback={<div>Loading...</div>}>\n                        <Routes>\n                            <Route path=\"/profile\" element={<ProfileContainer/>}>\n                                <Route path=\":userId\" element={<ProfileContainer/>}/>\n                            </Route>\n                            <Route path=\"/dialogs\" element={<DialogsContainer/>}/>\n                            <Route path=\"/users\" element={<UsersContainer/>}/>\n                            <Route path=\"/news\" element={<News name={'News'}/>}/>\n                            <Route path=\"/music\" element={<Music name={'Music'}/>}/>\n                            <Route path=\"/setting\" element={<Setting name={'Setting'}/>}/>\n                            <Route path=\"/login\" element={<Login/>}/>\n                        </Routes>\n                    </React.Suspense>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state: AppStateType) => ({\n    initialized: state.app.initialized\n})\n\nexport default compose(\n    connect(mapStateToProps, {initializeAppTC})(App)\n)\n\n\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport {ACDialogsReducerType, dialogsReducer} from './dialogsReducer';\r\nimport {ACProfileReducerType, profileReducer} from './profileReducer';\r\nimport {ACUsersReducerType, usersReducer,} from './usersReducer';\r\nimport {authReducer, AuthReducerType} from './authReducer';\r\nimport thunk, {ThunkAction} from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {appReducer, AppReducerType} from './appReducer';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\n//export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\nexport type AppActionType =\r\n    | ACProfileReducerType\r\n    | ACDialogsReducerType\r\n    | ACUsersReducerType\r\n    | AuthReducerType\r\n    | AppReducerType\r\n\r\nexport type AppThunk<ReturnType = void> =\r\n    ThunkAction<ReturnType, AppStateType, unknown, AppActionType>\r\n\r\n//@ts-ignore\r\nwindow.store = store\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {HashRouter} from 'react-router-dom';\nimport App from './App';\nimport {Provider} from 'react-redux';\nimport {store} from './Redux/reduxStore';\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </HashRouter>\n    </React.StrictMode>\n    ,\n    document.getElementById('root')\n)\n\n","import {authAPI, LoginParamsType} from '../API/api';\r\nimport {Dispatch} from 'redux';\r\nimport {AppThunk} from './reduxStore';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n}\r\n\r\nexport type initialStateAuthType = {\r\n    id: null | number\r\n    login: null | string\r\n    email: null | string\r\n    isAuth: boolean\r\n}\r\n\r\nexport const authReducer = (state: initialStateAuthType = initialState, action: AuthReducerType): initialStateAuthType => {\r\n    switch (action.type) {\r\n        case 'auth/SET-USER-DATA': {\r\n            return {...state, ...action.payload}\r\n        }\r\n        case 'auth/SET-IS-AUTH': {\r\n            return {...state, isAuth: action.isAuth}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport type AuthReducerType = SetAuthUserDataACType | SetIsAuth\r\n\r\ntype SetAuthUserDataACType = ReturnType<typeof setAuthUserDataAC>\r\nexport const setAuthUserDataAC = (id: number, login: string, email: string, isAuth: boolean) => {\r\n    return {type: 'auth/SET-USER-DATA', payload: {id, login, email, isAuth}} as const\r\n}\r\n\r\ntype SetIsAuth = ReturnType<typeof setIsAuthAC>\r\nexport const setIsAuthAC = (isAuth: boolean) => {\r\n    return {type: 'auth/SET-IS-AUTH', isAuth} as const\r\n}\r\n\r\nexport const getAuthMeTC = () => async (dispatch: Dispatch) => {\r\n    const res = await authAPI.authMe()\r\n\r\n    if (res.resultCode === 0) {\r\n        let {id, login, email} = res.data\r\n        dispatch(setAuthUserDataAC(id, login, email, true))\r\n    }\r\n}\r\n\r\nexport const loginTC = (data: LoginParamsType): AppThunk => async (dispatch) => {\r\n    const res = await authAPI.login(data)\r\n\r\n    if (res.data.resultCode === 0) {\r\n        await dispatch(getAuthMeTC())\r\n    } else {\r\n        let message = res.data.messages.length > 0 ? res.data.messages[0] : 'Email or login is wrong'\r\n        let action: any = stopSubmit('login', {_error: message})\r\n        dispatch(action)\r\n    }\r\n}\r\n\r\nexport const logoutTC = (): AppThunk => async (dispatch) => {\r\n    const res = await authAPI.logout()\r\n\r\n    if (res.data.resultCode === 0) {\r\n        await dispatch(getAuthMeTC())\r\n        dispatch(setAuthUserDataAC(null!, null!, null!, false))\r\n    }\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__QlxvU\",\"loginBlock\":\"Header_loginBlock__3MxXM\"};","export default __webpack_public_path__ + \"static/media/userIcon.01df14ab.png\";","import {Dispatch} from 'redux';\r\nimport {profileAPI} from '../API/api';\r\n\r\nexport type PostType = {\r\n    id: number\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nexport type ProfileType = {\r\n    'aboutMe': string\r\n    'contacts': {\r\n        'facebook': string,\r\n        'website': string,\r\n        'vk': string,\r\n        'twitter': string,\r\n        'instagram': string,\r\n        'youtube': string,\r\n        'github': string,\r\n        'mainLink': string\r\n    }\r\n    'lookingForAJob': string\r\n    'lookingForAJobDescription': string\r\n    'fullName': string\r\n    'userId': number\r\n    'photos': {\r\n        'small': string\r\n        'large': string\r\n    }\r\n} | null\r\n\r\n\r\nconst initialState = {\r\n    postsData: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 15},\r\n        {id: 2, message: 'My first post!', likesCount: 20},\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n}\r\nexport type initialStateProfileType = {\r\n    postsData: Array<PostType>\r\n    profile: null | ProfileType\r\n    status: string\r\n}\r\n\r\nexport const profileReducer = (state: initialStateProfileType = initialState, action: ACProfileReducerType): initialStateProfileType => {\r\n    switch (action.type) {\r\n        case 'profile/ADD-POST': {\r\n            const body = action.newPostBody\r\n            return {...state, postsData: [...state.postsData, {id: 5, message: body, likesCount: 0}]}\r\n        }\r\n        case 'profile/SET-USER-PROFILE': {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case 'profile/SET-STATUS': {\r\n            return {...state, status: action.status}\r\n        }\r\n        case 'profile/DELETE-POST': {\r\n            return {...state, postsData: state.postsData.filter(post => post.id !== action.id)}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport type ACProfileReducerType = AddPostACType | SetUserProfileACType | SetStatusACType | DeletePostACType\r\n\r\n\r\ntype AddPostACType = ReturnType<typeof addPostAC>\r\nexport const addPostAC = (newPostBody: string) => {\r\n    return {type: 'profile/ADD-POST', newPostBody} as const\r\n}\r\ntype SetUserProfileACType = ReturnType<typeof setUserProfileAC>\r\nexport const setUserProfileAC = (profile: ProfileType) => {\r\n    return {type: 'profile/SET-USER-PROFILE', profile} as const\r\n}\r\ntype SetStatusACType = ReturnType<typeof setStatusAC>\r\nexport const setStatusAC = (status: string) => {\r\n    return {type: 'profile/SET-STATUS', status} as const\r\n}\r\ntype DeletePostACType = ReturnType<typeof deletePostAC>\r\nexport const deletePostAC = (id: number) => {\r\n    return {type: 'profile/DELETE-POST', id} as const\r\n}\r\n\r\nexport const getUserProfileTC = (userId: string) => async (dispatch: Dispatch<ACProfileReducerType>) => {\r\n    const res = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfileAC(res.data))\r\n}\r\n\r\nexport const getStatusTC = (status: string) => async (dispatch: Dispatch<ACProfileReducerType>) => {\r\n    const res = await profileAPI.getStatus(status)\r\n    dispatch(setStatusAC(res.data))\r\n}\r\n\r\nexport const updateStatusTC = (status: string) => async (dispatch: Dispatch<ACProfileReducerType>) => {\r\n    const res = await profileAPI.updateStatus(status)\r\n\r\n    if (res.data.resultCode === 0) {\r\n        dispatch(setStatusAC(status))\r\n    }\r\n}\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/Spinner.ac5d5761.svg\";","import React from 'react';\r\nimport preload from '../../../assets/images/Spinner.svg';\r\n\r\nexport const Preloader = () => {\r\n    return (\r\n        <>\r\n            <img src={preload} alt={'pic'}/>\r\n        </>\r\n    );\r\n};\r\n","export type DialogsType = {\r\n    id: number\r\n    name: string\r\n}\r\nexport type MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nconst initialState = {\r\n    dialogsData: [\r\n        {id: 1, name: 'Egor'},\r\n        {id: 2, name: 'Marina'},\r\n        {id: 3, name: 'Veronika'},\r\n        {id: 4, name: 'Andrey'},\r\n        {id: 5, name: 'Igor'},\r\n        {id: 6, name: 'Artem'},\r\n    ] as Array<DialogsType>,\r\n    massagesData: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How is your it-kamasutra'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'},\r\n    ] as Array<MessageType>,\r\n}\r\n\r\nexport type InitialStateDialogsType = typeof initialState\r\n\r\nexport const dialogsReducer = (state: InitialStateDialogsType = initialState, action: ACDialogsReducerType):InitialStateDialogsType => {\r\n    switch (action.type) {\r\n        case 'dialogs/ADD-MESSAGE': {\r\n            const body = action.newMessageBody\r\n            return {...state, massagesData: [...state.massagesData, {id:6, message:body}] }\r\n         }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport type ACDialogsReducerType = AddMessageACType\r\n\r\ntype AddMessageACType = ReturnType<typeof AddMessageAC>\r\nexport const AddMessageAC = (newMessageBody: string) => {\r\n    return {type: 'dialogs/ADD-MESSAGE', newMessageBody} as const\r\n}\r\n","export const updateObjectInArray = (items: any[], itemId: string | number, obgPropName: string, newObjProps: Object) => {\r\n   return  items.map(m => m[obgPropName] === itemId ? {...m, ...newObjProps} : m)\r\n}\r\n\r\n\r\n","import {Dispatch} from 'redux';\r\nimport {usersAPI} from '../API/api';\r\nimport {updateObjectInArray} from '../utils/objectHelpers';\r\n\r\ntype PhotosType = {\r\n    small: string | undefined\r\n    large: string | undefined\r\n}\r\ntype LocationType = {\r\n    country: string\r\n    city: string\r\n}\r\n\r\nexport type UserType = {\r\n    photos: PhotosType\r\n    name: string;\r\n    id: number\r\n    followed: boolean\r\n    location: LocationType\r\n    status: string\r\n}\r\n\r\n\r\nexport type initialStateUserType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPages: number\r\n    isFetching: boolean\r\n    followingInProgress: number[]\r\n}\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPages: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nexport const usersReducer = (state: initialStateUserType = initialState, action: ACUsersReducerType): initialStateUserType => {\r\n    switch (action.type) {\r\n        case 'users/FOLLOW-SUCCESS':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.id, 'id', {followed: true})\r\n            }\r\n        case 'users/UNFOLLOW-SUCCESS':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.id, 'id', {followed: false})\r\n            }\r\n        case 'users/SET-USER':\r\n            return {...state, users: [...action.users]}\r\n        case 'users/SET-CURRENT-PAGE':\r\n            return {...state, currentPages: action.currentPages}\r\n        case 'users/SET-TOTAL-USERS-COUNT':\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        case 'users/TOGGLE-IS-FETCHING':\r\n            return {...state, isFetching: action.isFetching}\r\n        case 'users/TOGGLE-IS-FOLLOWING-PROGRESS':\r\n            return {\r\n                ...state, followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport type ACUsersReducerType = FollowSuccessACType | UnfollowSuccessACType | SetUserACType\r\n    | SetCurrentPageACType | SetTotalUsersCountACType | ToggleIsFetchingACType\r\n    | ToggleIsFollowingProgressACType\r\n\r\ntype FollowSuccessACType = ReturnType<typeof followSuccessAC>\r\nexport const followSuccessAC = (userID: number) => {\r\n    return {type: 'users/FOLLOW-SUCCESS', id: userID} as const\r\n}\r\n\r\ntype UnfollowSuccessACType = ReturnType<typeof unfollowSuccessAC>\r\nexport const unfollowSuccessAC = (userID: number) => {\r\n    return {type: 'users/UNFOLLOW-SUCCESS', id: userID} as const\r\n}\r\n\r\ntype SetUserACType = ReturnType<typeof setUserAC>\r\nexport const setUserAC = (users: Array<UserType>) => {\r\n    return {type: 'users/SET-USER', users: users} as const\r\n}\r\n\r\ntype SetCurrentPageACType = ReturnType<typeof setCurrentPageAC>\r\nexport const setCurrentPageAC = (currentPages: number) => {\r\n    return {type: 'users/SET-CURRENT-PAGE', currentPages} as const\r\n}\r\n\r\ntype SetTotalUsersCountACType = ReturnType<typeof setTotalUsersCountAC>\r\nexport const setTotalUsersCountAC = (totalCount: number) => {\r\n    return {type: 'users/SET-TOTAL-USERS-COUNT', totalCount} as const\r\n}\r\n\r\ntype ToggleIsFetchingACType = ReturnType<typeof toggleIsFetchingAC>\r\nexport const toggleIsFetchingAC = (isFetching: boolean) => {\r\n    return {type: 'users/TOGGLE-IS-FETCHING', isFetching} as const\r\n}\r\n\r\ntype ToggleIsFollowingProgressACType = ReturnType<typeof toggleIsFollowingProgressAC>\r\nexport const toggleIsFollowingProgressAC = (isFetching: boolean, userId: number) => {\r\n    return {type: 'users/TOGGLE-IS-FOLLOWING-PROGRESS', isFetching, userId} as const\r\n}\r\n\r\nexport const requestUsersTC = (page: number, pageSize: number) => async (dispatch: Dispatch<ACUsersReducerType>) => {\r\n    dispatch(toggleIsFetchingAC(true))\r\n    dispatch(setCurrentPageAC(page))\r\n\r\n    const data = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetchingAC(false))\r\n    dispatch(setUserAC(data.items))\r\n    dispatch(setTotalUsersCountAC(data.totalCount))\r\n}\r\n\r\nexport const followUnfollowFlow = async (dispatch: any, userId: number, apiMethod: Function, actionCreator: Function) => {\r\n    dispatch(toggleIsFollowingProgressAC(true, userId))\r\n\r\n    const resultCode = await apiMethod(userId)\r\n    if (resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleIsFollowingProgressAC(false, userId))\r\n}\r\n\r\nexport const followTC = (userId: number) => async (dispatch: Dispatch<ACUsersReducerType>) => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.followUser.bind(usersAPI), followSuccessAC)\r\n}\r\n\r\nexport const unfollowTC = (userId: number) => async (dispatch: Dispatch<ACUsersReducerType>) => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.unfollowUser.bind(usersAPI), unfollowSuccessAC)\r\n\r\n}\r\n\r\n\r\n\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '066ae431-6115-49fc-b06c-595e5096a36d'\r\n    },\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentNumberPages: number, pageSize: number) {\r\n        return instance.get(`users?page=${currentNumberPages}&count=${pageSize}`)\r\n            .then(response => {\r\n                    return response.data\r\n                } //вернул promise в котором data\r\n            )\r\n    },\r\n    unfollowUser(userId: number) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data.resultCode\r\n            })\r\n    },\r\n    followUser(userId: number) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data.resultCode\r\n            })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    authMe() {\r\n        return instance.get<BaseProfileType<AuthMeType>>(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    login(data: LoginParamsType) {\r\n        return instance.post<BaseProfileType<{ userId: number }>>('/auth/login', data)\r\n    },\r\n    logout() {\r\n        return instance.delete<BaseProfileType>('/auth/login')\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<BaseProfileType>(`profile/status/`, {status: status})\r\n    }\r\n}\r\n\r\nexport type LoginParamsType = {\r\n    email: string\r\n    password: string\r\n    rememberMe?: boolean\r\n    captcha?: string\r\n}\r\n\r\n\r\ntype AuthMeType = {\r\n    email: string\r\n    id: number\r\n    login: string\r\n}\r\ntype BaseProfileType<T = {}> = {\r\n    data: T\r\n    fieldsErrors: string[]\r\n    messages: string[]\r\n    resultCode: number\r\n}\r\n"],"sourceRoot":""}