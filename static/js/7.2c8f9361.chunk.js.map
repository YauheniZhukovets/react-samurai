{"version":3,"sources":["component/Common/FormsControls/FormsControls.tsx","component/Common/FormsControls/FormsControls.module.css","utils/validators/validators.ts","component/Login/Login.module.scss","component/Login/Login.tsx"],"names":["FormControl","meta","children","hasError","touched","error","className","s","formControl","Textarea","props","input","restProps","Input","module","exports","required","value","maxLengthCreator","maxLength","length","LoginReduxForm","reduxForm","form","handleSubmit","captcha","formContainer","onSubmit","fieldWrapper","validate","name","component","placeholder","type","checkbox","style","paddingLeft","formSummaryError","src","alt","connect","state","isAuth","auth","captchaUrl","loginTC","to","login","loginTextContainer","href","target","rel","formData"],"mappings":"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","file":"static/js/7.2c8f9361.chunk.js","sourcesContent":["import React from 'react';\r\nimport s from './FormsControls.module.css'\r\nimport {WrappedFieldMetaProps, WrappedFieldProps} from 'redux-form';\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\nconst FormControl:React.FC<FormControlPropsType> = ({meta, children}) => {\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={`${s.formControl} ${hasError ? s.error : ''}`}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea:React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props} ><textarea {...props.input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input:React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props} ><input {...props.input} {...restProps} /></FormControl>\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3RLDu\",\"error\":\"FormsControls_error__2bFT9\",\"formSummaryError\":\"FormsControls_formSummaryError__3yqtq\"};","\r\nexport const required = (value: string) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => {\r\n    return (value: string) => {\r\n        if (value && value.length > maxLength) return `Max length is ${maxLength} symbol`\r\n        return undefined\r\n    }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__3w5Fn\",\"loginTextContainer\":\"Login_loginTextContainer__1JcNA\",\"formContainer\":\"Login_formContainer__fL6r1\",\"fieldWrapper\":\"Login_fieldWrapper__2jDlX\",\"input\":\"Login_input__1hldA\",\"checkbox\":\"Login_checkbox__tA9eT\"};","import React from 'react';\r\nimport {Field, InjectedFormProps, reduxForm} from 'redux-form';\r\nimport {Input} from '../Common/FormsControls/FormsControls';\r\nimport {connect} from 'react-redux';\r\nimport {Navigate} from 'react-router-dom';\r\nimport style from '../Common/FormsControls/FormsControls.module.css'\r\nimport s from './Login.module.scss'\r\nimport SuperButton from '../Common/SuperButton/SuperButton';\r\nimport {LoginParamsType} from 'api/types';\r\nimport {required} from 'utils/validators/validators';\r\nimport {loginTC} from 'store/redusers/authReducer';\r\nimport {AppStateType} from 'store/types';\r\n\r\n\r\n\r\ntype LoginFormType = {\r\n    captcha: string | null\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<LoginParamsType, LoginFormType> & LoginFormType> = (props) => {\r\n    const {handleSubmit, error, captcha} = props\r\n\r\n    return (\r\n        <form className={s.formContainer} onSubmit={handleSubmit}>\r\n            <div className={s.fieldWrapper}>\r\n                <Field className={s.input}\r\n                       validate={[required]}\r\n                       name={'email'}\r\n                       component={Input}\r\n                       placeholder={'Email'}/>\r\n            </div>\r\n            <div className={s.fieldWrapper}>\r\n                <Field className={s.input}\r\n                       validate={[required]}\r\n                       name={'password'}\r\n                       component={Input}\r\n                       placeholder={'Password'}\r\n                       type={'password'}/>\r\n            </div>\r\n            <div className={s.fieldWrapper}>\r\n                <Field className={s.checkbox}\r\n                       name={'rememberMe'}\r\n                       component={Input}\r\n                       type={'checkbox'}/>\r\n                <span style={{paddingLeft: 5}}> remember me </span>\r\n            </div>\r\n            <div>\r\n                {error && <div className={style.formSummaryError}>{error}</div>}\r\n            </div>\r\n            <div>\r\n                {captcha && <img src={captcha} alt=\"captcha\"/>}\r\n                {captcha &&\r\n                    <div className={s.fieldWrapper}>\r\n                        <Field className={s.input}\r\n                               validate={[required]}\r\n                               name={'captcha'}\r\n                               component={Input}\r\n                               placeholder={'Symbols from image'}/>\r\n                    </div>}\r\n            </div>\r\n            <div className={s.fieldWrapper}>\r\n                <SuperButton type={'submit'}>Login</SuperButton>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm<LoginParamsType, LoginFormType>({form: 'login'})(LoginForm)\r\n\r\ntype MapStateToProps = {\r\n    isAuth: boolean\r\n    captcha: string | null\r\n}\r\ntype MapDispatchToProps = {\r\n    loginTC: (formData: LoginParamsType) => void\r\n}\r\n\r\ntype LoginContainerPropsType = MapDispatchToProps & MapStateToProps\r\n\r\nconst Login:React.FC<LoginContainerPropsType> = ({loginTC, isAuth, captcha}) => {\r\n\r\n    const onSubmit = (formData: LoginParamsType) => {\r\n        loginTC(formData)\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Navigate to={'/profile'}/>\r\n    }\r\n    return <div className={s.login}>\r\n        <div className={s.loginTextContainer}>\r\n            <p>To log in get registered\r\n                <a href=\"https://social-network.samuraijs.com/\" target=\"_blank\" rel=\"noreferrer\"> here</a>\r\n            </p>\r\n            <p>Or use common test account credentials:</p>\r\n            <p><b>Email</b>: free@samuraijs.com</p>\r\n            <p><b>Password</b>: free</p>\r\n        </div>\r\n        <LoginReduxForm onSubmit={onSubmit} captcha={captcha}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captcha: state.auth.captchaUrl,\r\n})\r\n\r\nexport default connect<MapStateToProps, MapDispatchToProps, unknown, AppStateType>(mapStateToProps, {loginTC})(Login)\r\n\r\n"],"sourceRoot":""}